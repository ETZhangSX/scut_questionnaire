<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <title>问卷页</title>
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/questionnaire.css">
    <script src="../js/bootstrap.js"></script>
    <script src="../js/questionnaire.js"></script>

    <link rel="stylesheet" href="../node_modules/islider.js/build/iSlider.css">
    <script src="../node_modules/islider.js/build/iSlider.js"></script>
    <script src="../node_modules/islider.js/build/iSlider.animate.js"></script>
</head>
<body>
<img src="../resource/others/bg_door.png" alt="#" id="background_door">
<img src="../resource/others/bg_next.png" alt="#" id="slide_next" style="opacity: 0;">
<form action="result.html">
    <div id="iSlider-wrapper"></div>
</form>
<script id="show-code">
    generateForm();
    list.push(question_list[0]);

    /*
    * 添加回调事件
    * onSlide：滑动屏幕触发事件hideNext，隐藏滑动下一页图标
    * onSlideChanged：页面改变时触发，更新isEnd并根据isEnd决定调用showNext
    * onSlideRestored：页面未发生改变时触发，即改变未成功(回弹)
    */
    S = new iSlider(document.getElementById('iSlider-wrapper'), list, {
        isLooping: 0,
        isOverspread: 1,
        animateTime: 800,
        animateType: 'default',
        onSlide: hideNext,
        onSlideChanged: function (idx) {
            isEnd = (idx === this.data.length - 1);
            console.log(isEnd);
            if (!isEnd) showNext();
            // this.hold();
        },
        onSlideRestored: function () {
            if (!isEnd) showNext();
        },
        isVertical: true
    });
</script>
</body>
</html>